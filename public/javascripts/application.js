(function(){var ie=(navigator.appName=="Microsoft Internet Explorer"),s=window.Scatter={scanPage:function(root){function check(el){if(el.getAttribute("rel")=="scatter"){var isA=el.nodeName=="A";s.attach(el,isA?"click":"submit",s.send);if(!isA){addButtonDetection(el)}}}function addButtonDetection(form){for(var i=0,els=form.elements,l=els.length;i<l;i++){if(els[i].type=="submit"){s.attach(els[i],"click",function(event){event[ie?"srcElement":"target"].clicked=1})}}}if(!root){root=document.body}check(root);for(var type in {form:1,a:1}){for(var i=0,els=root.getElementsByTagName(type);i<els.length;i++){check(els[i])}}},send:function(event){var el=ie?event.srcElement:event.target;if(el.tagName=="FORM"){s.submit(el)}if(el.tagName=="A"){s.get(el.getAttribute("href"))}ie?event.returnValue=false:event.preventDefault()},xhr:function(method,url,ps,h){if(!h){h=s.scatter}var xhr=ie?new ActiveXObject("Microsoft.XmlHttp"):new XMLHttpRequest();xhr.open(method,url,true);if(method=="post"){xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded")}else{url+=((url.indexOf("?")<0)?"?":"&")+ps;ps=null}if(ps){xhr.setRequestHeader("Content-length",ps.length)}xhr.onreadystatechange=function(){if(xhr.readyState==4){h(xhr)}};xhr.send(ps)},get:function(url,ps,h){s.xhr("get",url,ps,h)},post:function(url,ps,h){s.xhr("post",url,ps,h)},put:function(url,ps,h){s.xhr("put",url,ps,h)},"delete":function(url,ps,h){s.xhr("delete",url,ps,h)},submit:function(form,h){var ps="",i=0,el,value;for(;el=form.elements[i++];){if(!el.name){continue}value=escape(el.value);switch(true){case el.type=="submit"&&!el.clicked:continue;case el.type=="radio"&&!el.checked:case el.type=="checkbox"&&!el.checked:continue;case el.type=="submit":el.clicked=undefined;default:ps+=((ps=="")?"":"&")+el.name+"="+value}}var attrs=form.attributes,method=attrs.method?attrs.method.nodeValue.toLowerCase():"get",a=attrs.action,av=a?a.nodeValue:0,url=av?av:document.location;s.xhr(method,url,ps,h)},scatter:function(xhr){function swap(el,newEl){el.style.display="none";el.parentNode.insertBefore(newEl,el);el.parentNode.removeChild(el);s.scanPage(newEl)}var script="",els=[],html=xhr.responseText.replace(/<script[^>]*?>([^<]*?)<\/script>/gim,function(a,b,c){script+=b;return""}),temp=document.createElement("div"),child,i,l,targetEl,id;temp.innerHTML=html.replace(/^<[!|?].*?>[\n|\r]*/,"");for(i=0,l=temp.childNodes.length;i<l;i++){els.push(temp.childNodes[i])}for(i=0;i<l;i++){child=els[i];if(child.nodeType==1){id=child.getAttribute("id");if(id){targetEl=document.getElementById(id);if(targetEl){swap(targetEl,child)}}}}eval(script)},attach:function(el,name,h){ie?el.attachEvent("on"+name,h):el.addEventListener(name,h,false)}}})();
/* Riot v2.0.15, @license MIT, (c) 2015 Muut Inc. + contributors */
!function(e){function t(e){var t={val:e},n=e.split(/\s+in\s+/);return n[1]&&(t.val=O(0)+n[1],n=n[0].slice(O(0).length).trim().split(/,\s*/),t.key=n[0],t.pos=n[1]),t}function n(e,t,n){var r={};return r[e.key]=t,e.pos&&(r[e.pos]=n),r}function r(e,r,i){function o(e,t,n){d.splice(e,0,t),g.splice(e,0,n)}s(e,"each");var a,f=e.outerHTML,c=e.previousSibling,p=e.parentNode,d=[],g=[];i=t(i),r.one("update",function(){p.removeChild(e)}).one("premount",function(){p.stub&&(p=r.root)}).on("update",function(){var e=A(i.val,r);if(e){if(!Array.isArray(e)){var t=JSON.stringify(e);if(t==a)return;a=t,l(g,function(e){e.unmount()}),d=[],g=[],e=Object.keys(e).map(function(t){return n(i,t,e[t])})}l(d,function(t){if(t instanceof Object){if(e.indexOf(t)>-1)return}else{var n=b(e,t),r=b(d,t);if(n.length>=r.length)return}var i=d.indexOf(t),o=g[i];return o?(o.unmount(),d.splice(i,1),g.splice(i,1),!1):void 0});var s=[].indexOf.call(p.childNodes,c)+1;l(e,function(t,c){var l=e.indexOf(t,c),v=d.indexOf(t,c);if(0>l&&(l=e.lastIndexOf(t,c)),0>v&&(v=d.lastIndexOf(t,c)),!(t instanceof Object)){var m=b(e,t),h=b(d,t);m.length>h.length&&(v=-1)}var y=p.childNodes;if(0>v){if(!a&&i.key)var w=n(i,t,l);var L=new u({tmpl:f},{before:y[s+l],parent:r,root:p,item:w||t});return L.mount(),o(l,t,L),!0}return i.pos&&g[v][i.pos]!=l&&(g[v].one("update",function(e){e[i.pos]=l}),g[v].update()),l!=v?(p.insertBefore(y[s+v],y[s+(l>v?l+1:l)]),o(l,d.splice(v,1)[0],g.splice(v,1)[0])):void 0}),d=e.slice()}})}function i(e,t,n){m(e,function(e){if(1==e.nodeType){e.parentNode&&e.parentNode.isLoop&&(e.isLoop=1),e.getAttribute("each")&&(e.isLoop=1);var r=L(e);if(r&&!e.isLoop){for(var i,o=new u(r,{root:e,parent:t},e.innerHTML),a=r.name,f=t;!L(f.root)&&f.parent;)f=f.parent;o.parent=f,i=f.tags[a],i?(Array.isArray(i)||(f.tags[a]=[i]),f.tags[a].push(o)):f.tags[a]=o,e.innerHTML="",n.push(o)}l(e.attributes,function(n){/^(name|id)$/.test(n.name)&&(t[n.value]=e)})}})}function o(e,t,n){function i(e,t,r){if(t.indexOf(O(0))>=0){var i={dom:e,expr:t};n.push(p(i,r))}}m(e,function(e){var n=e.nodeType;if(3==n&&"STYLE"!=e.parentNode.tagName&&i(e,e.nodeValue),1==n){var o=e.getAttribute("each");return o?(r(e,t,o),!1):(l(e.attributes,function(t){var n=t.name,r=n.split("__")[1];return i(e,t.value,{attr:r||n,bool:r}),r?(s(e,n),!1):void 0}),L(e)?!1:void 0)}})}function u(e,t,n){function r(){l(Object.keys(N),function(e){s[e]=A(N[e],g||f)})}function u(e){if(l(y,function(t){t[e?"mount":"unmount"]()}),g){var t=e?"on":"off";g[t]("update",f.update)[t]("unmount",f.unmount)}}var a,f=C.observable(this),s=w(t.opts)||{},d=v(e.tmpl),g=t.parent,m=[],y=[],b=t.root,L=t.item,x=e.fn,T=b.tagName.toLowerCase(),N={};x&&b._tag&&b._tag.unmount(!0),b._tag=this,this._id=~~((new Date).getTime()*Math.random()),p(this,{parent:g,root:b,opts:s,tags:{}},L),l(b.attributes,function(e){N[e.name]=e.value}),d.innerHTML&&!/select/.test(T)&&(d.innerHTML=h(d.innerHTML,n)),this.update=function(e,t){p(f,e,L),r(),f.trigger("update",L),c(m,f,L),f.trigger("updated")},this.mount=function(){if(r(),x&&x.call(f,s),u(!0),o(d,f,m),f.parent||f.update(),f.trigger("premount"),x)for(;d.firstChild;)b.appendChild(d.firstChild);else a=d.firstChild,b.insertBefore(a,t.before||null);b.stub&&(f.root=b=g.root),f.trigger("mount")},this.unmount=function(e){var t=x?b:a,n=t.parentNode;if(n){if(g)Array.isArray(g.tags[T])?l(g.tags[T],function(e,t){e._id==f._id&&g.tags[T].splice(t,1)}):delete g.tags[T];else for(;t.firstChild;)t.removeChild(t.firstChild);e||n.removeChild(t)}f.trigger("unmount"),u(),f.off("*"),b._tag=null},i(d,this,y)}function a(t,n,r,i,o){r[t]=function(t){t=t||e.event,t.which=t.which||t.charCode||t.keyCode,t.target=t.target||t.srcElement,t.currentTarget=r,t.item=o,n.call(i,t)===!0||/radio|check/.test(r.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1);var u=o?i.parent:i;u.update()}}function f(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function c(e,t,n){l(e,function(e,r){var i=e.dom,o=e.attr,u=A(e.expr,t),c=e.dom.parentNode;if(null==u&&(u=""),c&&"TEXTAREA"==c.tagName&&(u=u.replace(/riot-/g,"")),e.value!==u){if(e.value=u,!o)return i.nodeValue=u;if(s(i,o),"function"==typeof u)a(o,u,i,t,n);else if("if"==o){var l=e.stub;u?l&&f(l.parentNode,l,i):(l=e.stub=l||document.createTextNode(""),f(i.parentNode,i,l))}else if(/^(show|hide)$/.test(o))"hide"==o&&(u=!u),i.style.display=u?"":"none";else if("value"==o)i.value=u;else if("riot-"==o.slice(0,5))o=o.slice(5),u?i.setAttribute(o,u):s(i,o);else{if(e.bool){if(i[o]=u,!u)return;u=o}"object"!=typeof u&&i.setAttribute(o,u)}}})}function l(e,t){for(var n,r=0,i=(e||[]).length;i>r;r++)n=e[r],null!=n&&t(n,r)===!1&&r--;return e}function s(e,t){e.removeAttribute(t)}function p(e,t,n){return t&&l(Object.keys(t),function(n){e[n]=t[n]}),n?p(e,n):e}function d(){if(e){var t=navigator.userAgent,n=t.indexOf("MSIE ");return n>0?parseInt(t.substring(n+5,t.indexOf(".",n)),10):0}}function g(e,t){var n=document.createElement("option"),r=/value=[\"'](.+?)[\"']/,i=/selected=[\"'](.+?)[\"']/,o=t.match(r),u=t.match(i);n.innerHTML=t,o&&(n.value=o[1]),u&&n.setAttribute("riot-selected",u[1]),e.appendChild(n)}function v(e){var t=e.trim().slice(1,3).toLowerCase(),n=/td|th/.test(t)?"tr":"tr"==t?"tbody":"div",r=document.createElement(n);return r.stub=!0,"op"===t&&N&&10>N?g(r,e):r.innerHTML=e,r}function m(e,t){if(e)if(t(e)===!1)m(e.nextSibling,t);else for(e=e.firstChild;e;)m(e,t),e=e.nextSibling}function h(e,t){return e.replace(/<(yield)\/?>(<\/\1>)?/gim,t||"")}function y(e,t){return t=t||document,t.querySelectorAll(e)}function b(e,t){return e.filter(function(e){return e===t})}function w(e){function t(){}return t.prototype=e,new t}function L(e){return _[e.getAttribute("riot-tag")||e.tagName.toLowerCase()]}function x(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}function T(e,t,n){var r=_[t],i=e.innerHTML;return e.innerHTML="",r&&e&&(r=new u(r,{root:e,opts:n},i)),r&&r.mount?(r.mount(),E.push(r),r.on("unmount",function(){E.splice(E.indexOf(r),1)})):void 0}var C={version:"v2.0.15",settings:{}},N=d();C.observable=function(e){e=e||{};var t={},n=0;return e.on=function(r,i){return"function"==typeof i&&(i._id="undefined"==typeof i._id?n++:i._id,r.replace(/\S+/g,function(e,n){(t[e]=t[e]||[]).push(i),i.typed=n>0})),e},e.off=function(n,r){return"*"==n?t={}:n.replace(/\S+/g,function(e){if(r)for(var n,i=t[e],o=0;n=i&&i[o];++o)n._id==r._id&&(i.splice(o,1),o--);else t[e]=[]}),e},e.one=function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},e.trigger=function(n){for(var r,i=[].slice.call(arguments,1),o=t[n]||[],u=0;r=o[u];++u)r.busy||(r.busy=1,r.apply(e,r.typed?[n].concat(i):i),o[u]!==r&&u--,r.busy=0);return t.all&&"all"!=n&&e.trigger.apply(e,["all",n].concat(i)),e},e},function(e,t,n){function r(){return a.href.split("#")[1]||""}function i(e){return e.split("/")}function o(e){e.type&&(e=r()),e!=u&&(f.trigger.apply(null,["H"].concat(i(e))),u=e)}if(n){var u,a=n.location,f=e.observable(),c=n,l=!1,s=e.route=function(e){e[0]?(a.hash=e,o(e)):f.on("H",e)};s.exec=function(e){e.apply(null,i(r()))},s.parser=function(e){i=e},s.stop=function(){l&&(c.removeEventListener?c.removeEventListener(t,o,!1):c.detachEvent("on"+t,o),f.off("*"),l=!1)},s.start=function(){l||(c.addEventListener?c.addEventListener(t,o,!1):c.attachEvent("on"+t,o),l=!0)},s.start()}}(C,"hashchange",e);var O=function(e,t,n){return function(r){return t=C.settings.brackets||e,n!=t&&(n=t.split(" ")),r&&r.test?t==e?r:RegExp(r.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),r.global?"g":""):n[r]}}("{ }"),A=function(){function t(e,t){return e=(e||O(0)+O(1)).replace(O(/\\{/g),"￰").replace(O(/\\}/g),"￱"),t=i(e,o(e,O(/{/),O(/}/))),new Function("d","return "+(t[0]||t[2]||t[3]?"["+t.map(function(e,t){return t%2?n(e,!0):'"'+e.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(t[1])).replace(/\uFFF0/g,O(0)).replace(/\uFFF1/g,O(1))+";")}function n(e,t){return e=e.replace(/\n/g," ").replace(O(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(e)?"["+o(e,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(e){return e.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(e,t,n){return n.replace(/[^&|=!><]+/g,r)+'?"'+t+'":"",'})}).join("")+'].join(" ").trim()':r(e,t)}function r(t,n){return t=t.trim(),t?"(function(v){try{v="+(t.replace(a,function(t,n,r){return r?"(d."+r+"===undefined?"+("undefined"==typeof e?"global.":"window.")+r+":d."+r+")":t})||"x")+"}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function i(e,t){var n=[];return t.map(function(t,r){r=e.indexOf(t),n.push(e.slice(0,r),t),e=e.slice(r+t.length)}),n.concat(e)}function o(e,t,n){var r,i=0,o=[],u=new RegExp("("+t.source+")|("+n.source+")","g");return e.replace(u,function(t,n,u,a){!i&&n&&(r=a),i+=n?1:-1,i||null==u||o.push(e.slice(r,a+u.length))}),o}var u={},a=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(e,n){return e&&(u[e]=u[e]||t(e))(n)}}(),E=[],_={};C.tag=function(e,t,n,r){return"function"==typeof n?r=n:n&&x(n),_[e]={name:e,tmpl:t,fn:r},e},C.mount=function(e,t,n){function r(e){var r=t||e.getAttribute("riot-tag")||e.tagName.toLowerCase(),i=T(e,r,n);i&&u.push(i)}var i,o=function(e){return e=Object.keys(_).join(", "),e.split(",").map(function(t){e+=', *[riot-tag="'+t.trim()+'"]'}),e},u=[];if("object"==typeof t&&(n=t,t=0),"string"==typeof e?("*"==e&&(e=o(e)),i=y(e)):i=e,"*"==t){if(t=o(e),i.tagName)i=y(t,i);else{var a=[];l(i,function(e){a=y(t,e)}),i=a}t=0}return i.tagName?r(e):l(i,r),u},C.update=function(){return l(E,function(e){e.update()})},C.mountTo=C.mount,C.util={brackets:O,tmpl:A},"object"==typeof exports?module.exports=C:"function"==typeof define&&define.amd?define(function(){return C}):e.riot=C}("undefined"!=typeof window?window:void 0);
riot.tag("tabs",'<h2>Tabs</h2> <ul> <li each="{ tab, i in tabs }" class="tabItem { is-active: parent.isActiveTab(tab.ref) }" onclick="{ parent.toggleTab }">{tab.title}</li> </ul> <div class="tabContent"> <div each="{ tab, i in tabs }" class="tabContent__item { hidden: !parent.isActiveTab(tab.ref) }">{tab.content}</div> </div>',function(t){this.tabs=[{title:"Tab 1",ref:"tab1",content:"(1) Lorem ipsum dolor"},{title:"Tab 2",ref:"tab2",content:"(2) Lorem ipsum dolor"},{title:"Tab 3",ref:"tab3",content:"(3) Lorem ipsum dolor"}],this.activeTab="tab1",this.isActiveTab=function(t){return this.activeTab===t}.bind(this),this.toggleTab=function(t){return this.activeTab=t.item.tab.ref,!0}.bind(this)});
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
riot.tag("todo",'<h3>{ opts.title }</h3> <ul> <li each="{ items }" class="{ hidden: hidden }"> <label class="{ completed: done }"> <input type="checkbox" __checked="{ done }" onclick="{ parent.toggle }"> { title } </label> </li> </ul> <form onsubmit="{ add }"> <input type="checkbox" __checked="{ checked }" onclick="{ check }"><input name="input" onkeyup="{ edit }"> <button __disabled="{ !text }">Add #{ items.length + 1 }</button> </form>',function(t){var e=this;e.disabled=!0,e.items=t.items,e.checked=!1,Scatter.get("/static_pages/test/","",function(t){var i=JSON.parse(t.response);e.addAjax(i)}),this.edit=function(t){e.text=t.target.value}.bind(this),this.addAjax=function(t){t.forEach(function(t){e.items.push({title:t.title,done:t.done})}),e.update()}.bind(this),this.add=function(t){e.text&&(e.items.push({title:e.text,done:e.checked}),e.text=e.input.value="")}.bind(this),this.check=function(t){return e.checked=!e.checked,!0}.bind(this),this.toggle=function(t){var e=t.item;return e.done=!e.done,!0}.bind(this),riot.observable(this),e.on("open",function(){e.items.push({title:"open",done:!0})})});
